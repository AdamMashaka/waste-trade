<!-- messaging.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
</head>
<body>
    <!-- Create the messaging interface -->
    <!-- Add input fields, message display area, and JavaScript for messaging -->

    <div class="chat-container">

        <div class="chat-messages"></div>

        <div class="chat-form-container">
            <form id="chat-form">
                <input
                    id="text"
                    type="text"
                    class="input-box"
                    placeholder="Enter Message"
                    required
                    autocomplete="off"
                />
                <button class="btn"><i class="fas fa-paper-plane"></i> Send</button>
            </form>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();

        socket.on('message', text => {
            const messageContainer = document.createElement('div');
            messageContainer.className = 'message incoming'; // Use 'incoming' class for incoming messages

            const messageText = document.createElement('div');
            messageText.className = 'message-text';
            messageText.textContent = text;

            messageContainer.appendChild(messageText);

            document.querySelector('.chat-messages').appendChild(messageContainer);
        });

        document.querySelector('button').onclick = () => {
            const text = document.querySelector('input').value;
            const messageContainer = document.createElement('div');
            messageContainer.className = 'message outgoing'; // Use 'outgoing' class for outgoing messages

            const messageText = document.createElement('div');
            messageText.className = 'message-text';
            messageText.textContent = text;

            messageContainer.appendChild(messageText);

            document.querySelector('.chat-messages').appendChild(messageContainer);

            // Emit the message to the server
            socket.emit('message', text);

            // Clear the input field after sending the message
            document.querySelector('input').value = '';
        }
    </script>
</body>
</html>
